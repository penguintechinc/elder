# Elder Connector Service Configuration Example
# Copy this file to .env and configure your settings

# ============================================================================
# Elder API Configuration
# ============================================================================
ELDER_API_URL=http://api:5000
ELDER_API_KEY=

# ============================================================================
# AWS Connector Configuration
# ============================================================================
AWS_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_REGIONS=us-east-1,us-west-2
AWS_SYNC_INTERVAL=3600

# ============================================================================
# GCP Connector Configuration
# ============================================================================
GCP_ENABLED=false
GCP_PROJECT_ID=
GCP_CREDENTIALS_PATH=/app/credentials/gcp-credentials.json
GCP_SYNC_INTERVAL=3600

# ============================================================================
# Google Workspace Connector Configuration
# ============================================================================
GOOGLE_WORKSPACE_ENABLED=false
GOOGLE_WORKSPACE_CREDENTIALS_PATH=/app/credentials/workspace-credentials.json
GOOGLE_WORKSPACE_ADMIN_EMAIL=
GOOGLE_WORKSPACE_CUSTOMER_ID=my_customer
GOOGLE_WORKSPACE_SYNC_INTERVAL=3600

# ============================================================================
# LDAP/LDAPS Connector Configuration
# ============================================================================
LDAP_ENABLED=false
LDAP_SERVER=
LDAP_PORT=389
LDAP_USE_SSL=false
LDAP_VERIFY_CERT=true
LDAP_BIND_DN=
LDAP_BIND_PASSWORD=
LDAP_BASE_DN=
LDAP_USER_FILTER=(objectClass=person)
LDAP_GROUP_FILTER=(objectClass=group)
LDAP_SYNC_INTERVAL=3600

# ============================================================================
# Okta Connector Configuration (Enterprise)
# ============================================================================
OKTA_ENABLED=false
OKTA_DOMAIN=
OKTA_API_TOKEN=
OKTA_SYNC_INTERVAL=3600
OKTA_SYNC_USERS=true
OKTA_SYNC_GROUPS=true
OKTA_WRITE_BACK_ENABLED=false

# ============================================================================
# Authentik Connector Configuration (Enterprise)
# ============================================================================
AUTHENTIK_ENABLED=false
AUTHENTIK_DOMAIN=
AUTHENTIK_API_TOKEN=
AUTHENTIK_SYNC_INTERVAL=3600
AUTHENTIK_SYNC_USERS=true
AUTHENTIK_SYNC_GROUPS=true
AUTHENTIK_WRITE_BACK_ENABLED=true
AUTHENTIK_VERIFY_SSL=true

# ============================================================================
# Organization Mapping
# ============================================================================
# If set, entities without a mapped organization will be assigned to this org
DEFAULT_ORGANIZATION_ID=

# Auto-create organizations in Elder if they don't exist
CREATE_MISSING_ORGANIZATIONS=true

# ============================================================================
# Sync Configuration
# ============================================================================
# Run initial sync when connector starts
SYNC_ON_STARTUP=true

# Number of entities to process per batch
SYNC_BATCH_SIZE=100

# Maximum number of retries for failed operations
SYNC_MAX_RETRIES=3

# ============================================================================
# Health & Monitoring
# ============================================================================
# Port for health check HTTP server
HEALTH_CHECK_PORT=8000
CONNECTOR_HEALTH_PORT=8000

# Enable Prometheus metrics
METRICS_ENABLED=true

# ============================================================================
# Logging Configuration
# ============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json
